exit
json_response
exit
json_response
exit
json_response
exit
json_response
exit
json_response
exit
json_response
exit
customers_invoices_ids
exit
customer.invoices.pluck(:id).include?(transaction['id'])
customer.invoices.pluck(:id).includes?(transaction['id'])
customer.invoices.pluck
transaction["id"]
customer.invoices.pluck.include?(transaction["id"])
customer.invoices.pluck(:id)
transaction["id"].in? customer.invoices.pluck
transaction["id"]
customer.invoices.pluck(:id)
customer.invoices.select(:id)
transaction
customer.invoices
exit
transaction.class
transaction.customer
transaction
exit
transaction.customer
transaction
customer.invoices.first.id
customer.invoices.first
customer.invoices
customer.invocies
transaction
exit
assert_equal returned_merchant["id"], merchant.id
returned_merchant
exit
returned_merchant.invoice
returned_merchant
exit
returned_merchants
eturned_merchants
exit
returned_invoice_items
exit
returned_invoice_items
exit
customer
exit
customers
exit
customers
exit
invoices.count
exit
invoice
exit
invoice
exit
items
response
exit
Merchant.all.count
Merchant.all
merchant
items
exit
merchant
items
items.last
exit
items.first["merchant_id"]
items.first.merchant_id
items.first
items.first(5)
exit
merchant
items.first
response.as_json
response.attributes
response.first
response.count
response
exit
json_response.count
exit
params
exit
Merchant.all.each.sort_by { |merchant| merchant.revenue}
Merchant.all.sort_by { |merchant| merchant.revenue}
Merchant.all.sort_by do |merchant|
exit
Merchant.joins(invoices: :invoice_items).group("merchants.id, invoice_items.quantity")exit
Merchant.joins(invoices: :invoice_items).group('merchants.id, invoice_items.quantity').first.as_json
Merchant.joins(invoices: :invoice_items).group('merchants.id, invoice_items.quantity').first
Merchant.joins(invoices: :invoice_items).group('merchants.id, invoice_items.quantity')
Merchant.joins(invoices: :invoice_items).group('merchants.id').order("sum('invoice_items.quantity')")
Merchant.joins(invoices: :invoice_items).group('merchants.id').order(sum("invoice_items.quantity"))
Merchant.joins(invoices: :invoice_items).group('merchants.id').sum("invoice_items.quantity")
Merchant.joins(invoices: :invoice_items).group(merchants.id).sum("invoice_items.quantity")
Merchant.joins(invoices: :invoice_items).sum("invoice_items.quantity").group(merchants.id)
Merchant.joins(invoices: :invoice_items).sum("invoice_items.quantity")
Merchant.joins(invoices: :invoices_items).sum("invoice_items.quantity")
Merchant.joins(invoice_items: :invoices).sum("invoice_items.quantity")
Merchant.find(56).invoices.joins(:invoice_items).sum("invoice_items.quantity")
Merchant.find(18).invoices.joins(:invoice_items).sum("invoice_items.quantity")
Merchant.find(10).invoices.joins(:invoice_items).sum("invoice_items.quantity")
Merchant.find(14).invoices.joins(:invoice_items).sum("invoice_items.quantity")
Merchant.find(43).invoices.joins(:invoice_items).sum("invoice_items.quantity")
Merchant.find(43).invoices.joins(:invoice_items).sum("invoice_items.quantity)
Merchant.find(43).invoices.joins(:invoice_items).count
Merchant.find(43).invoices.count
Merchant.joins(invoices: :invoice_items).group("merchants.id")
Merchant.joins(invoices: :invoice_items).group("merchants.id").count
Merchant.joins(invoices: :invoice_items).count.group("merchants.id")
Merchant.joins(invoices: :invoice_items).count.group("merchants.id").count
Merchant.joins(invoices: :invoice_items).count.select("merchants.*, count('invoice_items.quantity') AS item_sold")
Merchant.joins(invoices: :invoice_items).count
Merchant.select("merchants.*, count('invoice_items.quantity') AS item_sold").joins(invoices: :invoice_items)
exit
params
exit
params
exit
params[:date]
params
exit
params
exit
params
exit
row['unit_price'].to_f / 100
row['unit_price']
row['id']
row[:id]
row
exit
InvoiceItem.find_by(id: params[:invoice_item_id]).item
InvoiceItems.find_by(id: params[:invoice_item_id]).item
params
exit
InvoiceItem.where(item_id: 2)
InvoiceItem.where(item_id: 2).count
InvoiceItem.where("invoice_items.item_id = ?", 2).count
InvoiceItem.where("invoice_items.item_id = ?", 2)
params
exit
Item.joins(:merchant).where("merchants.id = ?", params[:merchant_id])
Item.joins(:merchant).where("merchants.id", params[:merchant_id])
Item.joins(:merchant)
params
exit
Item.find_by(id: params[:item_id]).merchant
Item.find_by(id: params[:item_id])
params
exit
Transaction.find(3)
Transaction.find_by(params[:transaction_id])
params[:transaction_id]
exit
Transaction.find(3).invoice
Transaction.find(3)
params
exit
customer_params
exit
customer_params
exit
params
exit
customer_params
exit
customer_params
exit
Customer.where(customer_params)
customer_params
exit
customer_params
exit
Item.find_by(item_params)
exit
Item.find_by(item_params)
exit
item_params
exit
merchant_params
